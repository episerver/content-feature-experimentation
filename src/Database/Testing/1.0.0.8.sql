--beginvalidatingquery

		 select 1, 'Upgrading database'

--endvalidatingquery

-- Create MultivariateTest Tables to Store MultivariateTest Information.
DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Testing.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '1'

IF @CurrentMigration < '202002241846332_AddIndex_OriginalItemId'
BEGIN
    CREATE INDEX [OriginalItemId_Index] ON [dbo].[tblABTest]([OriginalItemId])
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202002241846332_AddIndex_OriginalItemId', N'Testing.Migrations.Configuration',  0x1F8B0800000000000400ED5D4B6FE4B811BE07C87F10744A02AFDB9EB96C8CEE5D78FC58186B8F8D69CF6C90CB8096D86D6225AA5794BC3616F96539E427E52FA4D47AF1214AA424B7BB338D3D4C5B243FB28A55C5E2A36AFFFBEFFF4C7F7C0E03E709C78C4474E61E1F1EB90EA65EE413BA9CB969B2F8EE7BF7C71FFEFCA7E9851F3E3B5FCA7AEFB37AD092B299FB9824AB93C984798F3844EC30245E1CB168911C7A5138417E34797774F4F7C9F1F10403840B588E33FD94D2848478FD07FC7916510FAF92140537918F03567C8792F91AD5F98842CC56C8C333F7E28ECC710C233EBC41F1AF3881811EDE63B6FEF71C05AE731A1004C39AE360E13A88D22841090CFAE433C3F3248EE872BE820F28B87F5961A8B74001C3053127757553BA8EDE65744DEA86259497B2240A2D018FDF178C9AC8CD7BB1DBAD1809ACBC0096272F19D56B76CE5CE0D6E9878C75AE23F7767216C459CD4E761FE6A8EB693BAC000F9CA2CA4125322059D97F07CE591A24698C6714A7498C8203E72E7D0888F7337EB98F7EC57446D320E0C70D238732E1037CBA8BA3158E93974F78515073E5BBCE446C37911B56CDB83639993FA5047E7F84BED143802BA998B436BF2749804B04902D20D8756ED0F335A6CBE471E6C24FD7B924CFD82FBF14B09F2901158346499C62EB6ECF31F362B2CAA56270E7ED7DDDFE4E71BC79126F63B224140557090E074ED21C24BA9E24300A999866E25914D8C3C5C9390799FDBE075B668D7441FD5170EE6040C423ABB5E2DEE1D8C33441CB0AF78A26EFDF59835E239680529305C1FE87971601383E3A1A41CC2E9E57D84BB0FF85309244F15904EB8344403BC0A997AD1E2DCD2DE9871569417C5809F1357EC241354911182BFB29FAE7DC8B623C10E48ACDC992C28C78A8A6EE43140518D13EF4252027D7882E534E5836A7E1673106811F47034A41ED07F6113D9165AE3C222CAC1EA04E8B288685D1C357D407CE837431D7F984837503F64856B551D1D4FFCAADB39771147E8A827CF1EDACFFF51EC54B9CCD7564D1681EA56003CCC9FC82620212A525AB28D792A194370D5BADD434CCE9A47652BA5C170D2346F465343D7C2BCE0D10391042C3401975E70D05A7199BB20CA5F6585986522FFBAA5CA1C423AA5881B85729632760B8439C41145C1EE6235DB15F08E5B607037C91E200820D7491BE10FC3B1B4AD45ABED823F607D3F57F60B9EC17FF06CBA4F7102CC609BA590BCA27CCC02CB4796272DDAFBCFD928D6D4B658D0FD6D6C2D601CB112F61BF4B3D82826EDAA4AAADA4E9EB6A286B69D08FB02F28487137515CB556829AEB6988D1541EC1F79405605CBF5346FF4616C89F57642042C35AD26F1DF80593E56332703D02F15E1F6B88609BDB6473FEE0306E148A337472766241AC2CCFEBAF2DCD5EBCC96A34C07249067E5CC32581EFED96E9D600785F9F32628F84D99F7731FC2A6EE6BE779DB98732407BF55DA3E7535870FD0D0EFCD6520DEAFFBAA48ADDBC19B57B83F90A0E6BB3B934F07007584BCE831CD75272C07B2B69AC55413AF41A65AF9923EEBA9A35B2638B66A68D6928EA2277657BC52E03B4ACDF6E8CA39659974CB81C1EAC97B088F8380E5E0082F7BEC509BCC1E1038E4B15A3C84BC81310B566E2CC3D52265CA87F2AD63E6EAF7D1ED1BAAE7AA72A22C7DE2340FB55FDF7EACCE573C47F3C652C025B9CCD42E7550D77A8248EE382FA4E9FB370E18A5F7B3F7403334756305730F333F76F0A172C7BAF0E1E84DECBC332B1B3635736CCB7F41CF6880976B289CC9C9F33C43CE4AB6A0EDCF6C52F60CB718C69F694099C1E06524868A21A7E42B3B701410F92242CC365241B6BD5AB5C728E57185482263DE6D76438E509BB3AA4AA6789AD5D5C9C4E3891EE9474F5B8B445B65ACE4E0559AA8CB295E4B65CCBEE8AA46A49D88C646AE7671724B1E398A2DDE4199D59C8D6563D11B5B5B446C7F026AAB115D26B46D0C68CACC19C9A8C85739FDF50B45B3694ED2266B2BB94055B3930B3956B933B985D12EB6E7A3626D5DDF3B93B42ADD98BB5CB56D7C64C1666E13CC35690BBEEDE764988DB69D99800B7CFDFF6096FBE63CE9E8F428B7A638912F480185E3F2B7D6E3A29FB0C85F9AE9C1547AAB2A865B8739C94DBCFB5C7C55CA73E1F507D56455C450CFD03CE2650ED86B1A397FAFD64136AA5051D28DA170E9AA1AADE965107EA2B030DBEB2E819C18B77FD1A68C10449B09CD4C9D85D2FE8B8A6362FEF6495E979F850F1A34DEC14FDEC79D6C07556E9896C2B454E9A71B9E1B54F23573BB6B9E61B5D8E905A8DDAB9A4DFD7BE1657BA6E7C758267BCFFEAB903E3E8D55A8F4E8933D97319CC526FCEB65D0DE9186BEAFDF7F3FF15B6AA36B393AB061EFF6B325577AAAF63A889E769EF7B2A8C1457874E2676789BC318585E3C549E4C55369DE441A7C587E944139D3ABD41AB15A14B2E5AB5F8E2CCF350D5B3EFE6F6619B618E31F15843F46635DAAA275820D0124BA5D935B88F2F49CC92D233739D333F54AAC97E9B668D2F7B135D3375FECAE5BEAC9FFD2E02BC3A2E62B42B49CDD54B2034CCDCE78C662C0A97AEAD934510A300C50D37996751908654EFCAEB5B17719F3C40F1C91C4308E2E491840273BC225093472A3E5960485197029854668E5A5CDAF160C5272B8C32EA52C2293F9B635571973C52F5D11C471B77C9E36A2B99F7238762F2F0729905171A232E059634D630EFA1292493C76F2A37475702347968A5D01CB70CD5E4E1CA6FE62852ACA6606AC4222B8AC5904D8962B1D002977FCA2060F205E678E273061E502C5111A713C9D42BC719CA12A31C10892B96D17AA6DDAF8DBCC0E90E187AAD78C660AFB40416D75BC21AA8B9F2D2A3B40408F2C02DD5F6626E2CE695933CB2586B760B6662AC6DBCCD62DBE41FD9FB45421C9E0C5515D8AC3965389EB8DC945FAD569A3A88425A65EA0273BC222C8F472A3ED950C7C5E5890472057B73606C0E744746E32F7ACA5175DF05AF1BE875AC46F170555892F24F6FA7536548110F557EB3D85749014AC2E64A2AB3D819F16147C26E882FB0B01FF50D976043F4175F2DF3B0D7FBC633CDF1D55EBE41EAABF59D38DBABF445A88BE06DE49F2C31A4D81D05502AB7354B75548E6A99EAB2BEA88DC3D654D91B8537340AC2F9FCF80681BFF7ED6B0C5A31B6D71014812BA2A0066A5EB4768CBDC05B0ABC72C92357A97AAF2E7BA44B9D6971C1D29D9754B971C9AB64918DD113F1B3DB96F90B83ADDD6156E170FE5B7016109C1D0196156E10250BD09A3C80C47D7774FC4ECA66BA3D9945278CF941C30555637A5171C236109E9652F25B8AB313E02413BE7858664FFA8462EF11C57F09D1F35FC7C8D6A905B4CEC8396C68CD593607334FC8B84932091F9A63D387DFC90839367BE374E4D8EC43647386CD7242D51C9B7652D29650531AAD099C3EBD661FD235C935174184ECC1C4DC9AFD301A536B3E905E9435A5D51CA6A60DB1A6BD05B929D6D4106C8CE48C3BB8120839DB5438E5A12B108B9F67EE1FEBF627CED53FBEE61007CE6D0C8BFC8973E4FC6BFC4C8A6D749A28F80ECA58F3FBF8BD4C191BBD7157FD86B4827DD60639A9604F2B2C2781EAB72E08F904FB51A36413EC45D0EE6967E771FD4E68AA90B262305A835CF6112A319B583FC96ECE4C36CC4FB953B38DF5214F49D0D1CB405628836CE46E2A5EEB89F937A87742C6297F73C9B506BAFD8D09B3461F7E6BC2AC6114EC3579A8266B8FBBBF412D16923FF5F4E7F602692A90E327F22923CA369E7EC424C86EB4EC417D2392B5D10FAF14776CF81255EDFDAD139B58A5D8D90E99ABE2AF7AE6F5D90999D23F03DD3E19EA9F1CC76E2A5FD58CA911E023A4E41998AAE9EDD2D96C61AA847193D76C91E429B90186A7CCD919B9EB7ED5B6AD62679F5E668B444EC819312CA9CDCE885AFB7BA9B716B3E644306ADCB13CAF4ADA90D21B6B4BF492BFA5814DCD4304D35F5C6B3D98E68169F3E7AD32C16887D137770CAF4DADD963B43D0FCB2F63915EA68DF67192D198E7A2691BCBE0C43566796BDA86B043096E44E593C2E9553362B695368B545416812DCA5833842D9242CB916EA390BDF19434764419ED56BAC37BC662D52673CC0C6694C628B604448CC5A64D648D19CC9E0643AD791E6ECE168B5C30EA736070A1529A1DB4E67F9D63469635C4143029F604E7A9AA73451751E9C649232AABC807BD38413E7856A7714216C84BA0D8C38CADFFA726459AF68BF001FB57F4364D56690224E3F02110324364BE605BFFEB8437E298A7B7EBF7AB6C0C126098243B9BBEA51F5212D4E9E52F1BCEA635109993F91386EFF95C82CF9AE0E54B85F4719DE5DE04A8605FE51BDFE370150018BBA573C4A5D5B718DB6786AFF112792FE5AB6E3D48F744886C9F9E13B48C51C80A8CBA3DFC0932EC87CF3FFC0F002FD6B5D3830000 , N'6.1.3-40302')
END

GO
